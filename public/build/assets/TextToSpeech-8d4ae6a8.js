import{r as h,W as A,a as s,F as E,j as t,c as W,b as q}from"./app-7acf19d0.js";import{C as T}from"./Card-fb3ea49d.js";import{I as B}from"./Input-75ef1dc8.js";import{S as F}from"./Spinner-af3f7d28.js";import{T as H}from"./TextArea-67602ce0.js";import{B as S}from"./Breadcrumb-9e4ecf35.js";import{I as D}from"./InputDropdown-737fd917.js";import{s as M}from"./text-to-speech-5872ffda.js";import{A as g,D as U}from"./Dashboard-7c449020.js";import{f as z}from"./index-3f3950c2.js";import{p as _}from"./index-1e8bddeb.js";import{r as f,t as J}from"./index-4c8a935a.js";import"./ArrowDown-009da1a2.js";function w(a){f(1,arguments);var o=J(a);return o.setHours(0,0,0,0),o}function R(a,o){f(2,arguments);var n=w(a),m=w(o);return n.getTime()===m.getTime()}function k(a){return f(1,arguments),R(a,Date.now())}const G=a=>{const{auth:o,user:n,speeches:m,todaysSpeeches:C}=a,[x,L]=h.useState(null),[d,v]=h.useState(null),{data:l,setData:u,post:I,processing:O,errors:b,clearErrors:V}=A({title:"",description:"",language:"en-US",voice:"Ivy"}),y=e=>{u(e.target.name,e.target.value)},j=async e=>{e.preventDefault(),V(),I(route("text-to-speech-save"))};h.useEffect(()=>{if(d){const{value:e,voices:r}=d;u({...l,language:e,voice:r[0].value}),L(r),v(null)}},[d]);const N=m.reduce((e,r)=>{const i=z(_(r.created_at),"yyyy-MM-dd");return e[i]||(e[i]=[]),e[i].push(r),e},{}),p=[];Object.keys(N).forEach(e=>{const r={generation:e,audios:N[e]};p.push(r)});let c=null;return n.role==="admin"||n.subscription_plan.text_character_length==="Unlimited"?c=!1:c=n.subscription_plan.text_character_length,s(E,{children:[t(W,{title:"Text ot speech"}),o.user.role==="admin"?t(S,{Icon:g,title:"Text ot speech"}):t(S,{Icon:g,title:"Text ot speech",totalCount:C||0,maxLimit:o.user.subscription_plan.text_to_speech_generation}),s("div",{className:"grid grid-cols-12 gap-7",children:[t("div",{className:"col-span-12 lg:col-span-4",children:s(T,{children:[s("div",{className:"p-5 border-b border-gray-100 flex items-center",children:[t(g,{className:"w-5 h-5 text-gray-400 mr-2"}),t("p",{className:"text18 text-gray-600",children:"Text To Speech"})]}),s("form",{onSubmit:j,className:"p-5",children:[t("div",{children:t(H,{rows:8,name:"description",label:"Description",value:l.description,error:b.description,onChange:y,placeholder:"e.g. Create a random string generator in JavaScript...",maxLength:c,className:"min-h-0",required:!0})}),t("div",{className:"mt-5",children:t(B,{name:"title",label:"Title",value:l.title,error:b.title,onChange:y,placeholder:"New Code",maxLength:50,required:!0})}),t("div",{className:"mt-5",children:t(D,{fullWidth:!0,label:"Tone of Voice",defaultValue:l.language,itemList:M,onChange:e=>v(e)})}),x&&t("div",{className:"mt-5",children:t(D,{fullWidth:!0,label:"Tone of Voice",defaultValue:l.voice,itemList:x,onChange:e=>u("voice",e.value)})}),t(q.Button,{type:"submit",className:"capitalize bg-primary-500 text-white text-sm px-5 mt-10 py-0 h-10",color:"white",fullWidth:!0,children:O?t(F,{className:"text-white !w-6 !h-6 !border-2"}):t("span",{children:"Submit"})})]})]})}),t("div",{className:"col-span-12 lg:col-span-8 h-[628px]",children:t(T,{className:"h-full p-5",children:p.length>0&&p.map((e,r)=>s("div",{className:"mb-6",children:[s("div",{className:"flex items-center mb-1",children:[t("p",{className:"text-lg font-bold text-gray-900",children:k(_(e.generation))?"Today":e.generation}),s("p",{className:"ml-1",children:[e.audios.length," of 6"]})]}),e.audios.map(i=>t("audio",{className:"w-full h-12 mt-4",src:i.audio,preload:"auto",controls:!0},i.id))]},r))})})]})]})};G.layout=a=>t(U,{children:a});export{G as default};
